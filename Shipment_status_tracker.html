<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Logistics Tracking Interface</title>

<style>
    body {
        margin: 0;
        padding: 0;
        font-family: Arial, Helvetica, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: #2c3e50;
    }

    .container {
        max-width: 1300px;
        margin: auto;
        padding: 20px;
    }

    .header {
        background: white;
        border-radius: 12px;
        padding: 20px;
        margin-bottom: 25px;
        box-shadow: 0px 4px 20px rgba(0,0,0,0.1);
        text-align: center;
    }

    .header h1 {
        margin: 0;
        font-size: 2rem;
    }

    .search-container {
        margin-top: 20px;
        display: flex;
        justify-content: center;
        gap: 10px;
        flex-wrap: wrap;
    }

    .search-input {
        padding: 12px;
        width: 300px;
        border-radius: 8px;
        border: 1px solid #ccc;
        font-size: 1rem;
    }

    .search-btn {
        padding: 12px 18px;
        background: #3498db;
        color: white;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-size: 1rem;
    }

    .main-content {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 25px;
    }

    .shipments-panel, .map-container, .stat-card {
        background: white;
        padding: 20px;
        border-radius: 12px;
        box-shadow: 0px 4px 20px rgba(0,0,0,0.1);
    }

    .panel-title {
        margin-bottom: 15px;
        font-size: 1.3rem;
        font-weight: bold;
    }

    .shipment-card {
        padding: 15px;
        border-radius: 10px;
        margin-bottom: 10px;
        background: #f9f9f9;
        border-left: 4px solid #3498db;
        cursor: pointer;
    }

    .shipment-card.selected {
        background: #fff3f3;
        border-left-color: red;
    }

    .shipment-header {
        display: flex;
        justify-content: space-between;
    }

    .status-badge {
        padding: 5px 10px;
        border-radius: 12px;
        font-size: 0.8rem;
        color: white;
    }

    .status-in-transit { background: #f1c40f; }
    .status-delivered { background: #2ecc71; }
    .status-pending { background: #e74c3c; }

    /* --- REAL GOOGLE MAP --- */
    .google-map {
        width: 100%;
        height: 350px;
        border-radius: 12px;
        border: 0;
    }

    /* New tracking code section */
    .add-tracking-box {
        margin-top: 20px;
        padding: 15px;
        background: #f8f8f8;
        border-radius: 12px;
        border-left: 4px solid #764ba2;
    }

    @media(max-width: 768px) {
        .main-content {
            grid-template-columns: 1fr;
        }
    }
</style>

</head>
<body>

<div class="container">

    <header class="header">
        <h1>Logistics Tracking Interface</h1>
        <p>Real-Time Shipment Monitoring & Route Tracking (Tamil Nadu)</p>

        <div class="search-container">
            <input id="tracking-search" class="search-input" placeholder="Enter Tracking Number">
            <button class="search-btn" onclick="searchShipment()">Track</button>
        </div>
    </header>

    <main class="main-content">

        <!-- LEFT SIDE : SHIPMENTS -->
        <section class="shipments-panel">
            <h2 class="panel-title">Active Shipments</h2>

            <div id="shipments-list"></div>

            <!-- NEW INPUT SECTION -->
            <div class="add-tracking-box">
                <h3>Add New Tracking Code</h3>
                <input id="new-track-id" class="search-input" placeholder="Enter new tracking ID">
                <button class="search-btn" onclick="addTracking()">Add</button>
            </div>
        </section>

        <!-- RIGHT SIDE : GOOGLE MAP -->
        <section class="map-container">
            <h2 class="panel-title">Live Location (Tamil Nadu)</h2>

            <!-- REAL GOOGLE MAP -->
            <iframe  
                class="google-map"
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d62220.20079583683!2d80.20917155!3d13.08268065!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3a5265deb5e6ec7b%3A0xdeb544783d862a9e!2sChennai%2C%20Tamil%20Nadu!5e0!3m2!1sen!2sin!4v1700000000000"
                allowfullscreen=""  
                loading="lazy">
            </iframe>

            <div class="route-stats">
                <div><strong id="distance-remaining">0 km</strong><br>Remaining</div>
                <div><strong id="eta-time">0h</strong><br>ETA</div>
                <div><strong id="current-speed">0 km/h</strong><br>Speed</div>
                <div><strong id="progress-percent">0%</strong><br>Complete</div>
            </div>
        </section>

    </main>

    <section class="main-content">
        <div class="stat-card"><div class="stat-number" id="total-shipments">0</div>Total</div>
        <div class="stat-card"><div class="stat-number" id="delivered-count">0</div>Delivered</div>
        <div class="stat-card"><div class="stat-number" id="in-transit-count">0</div>In Transit</div>
        <div class="stat-card"><div class="stat-number" id="pending-count">0</div>Pending</div>
    </section>

</div>

<div class="notification" id="notification"></div>

<script>
    const shipments = [
        { id: "TRK001", status: "in-transit", origin: "Chennai", destination: "Coimbatore", currentLocation: "Vellore", progress: 68, distance: 245, speed: 65 },
        { id: "TRK002", status: "delivered", origin: "Madurai", destination: "Salem", currentLocation: "Salem", progress: 100, distance: 0, speed: 0 },
        { id: "TRK003", status: "pending", origin: "Trichy", destination: "Chennai", currentLocation: "Trichy", progress: 0, distance: 302, speed: 0 },
    ];

    let selectedShipment = shipments[0];

    function renderShipments() {
        const list = document.getElementById("shipments-list");
        list.innerHTML = "";

        shipments.forEach(s => {
            const c = document.createElement("div");
            c.className = "shipment-card" + (s.id === selectedShipment.id ? " selected" : "");
            c.innerHTML = `
                <div class="shipment-header">
                    <strong>${s.id}</strong>
                    <span class="status-badge status-${s.status}">${s.status.replace("-", " ").toUpperCase()}</span>
                </div>
                From: ${s.origin}<br>
                To: ${s.destination}<br>
                Location: ${s.currentLocation}
            `;
            c.onclick = () => selectShipment(s);
            list.appendChild(c);
        });
    }

    function selectShipment(s) {
        selectedShipment = s;
        renderShipments();
        updateMap();
        notify(`Selected ${s.id}`);
    }

    function updateMap() {
        document.getElementById("distance-remaining").textContent = `${selectedShipment.distance} km`;
        document.getElementById("current-speed").textContent = `${selectedShipment.speed} km/h`;
        document.getElementById("progress-percent").textContent = `${selectedShipment.progress}%`;
        document.getElementById("eta-time").textContent = selectedShipment.status === "delivered" ? "Delivered" : "2h 30m";
    }

    function updateStats() {
        document.getElementById("total-shipments").textContent = shipments.length;
        document.getElementById("delivered-count").textContent = shipments.filter(s => s.status === "delivered").length;
        document.getElementById("in-transit-count").textContent = shipments.filter(s => s.status === "in-transit").length;
        document.getElementById("pending-count").textContent = shipments.filter(s => s.status === "pending").length;
    }

    function searchShipment() {
        const id = document.getElementById("tracking-search").value.trim().toUpperCase();
        const item = shipments.find(s => s.id === id);
        if (!item) return notify("Shipment not found");
        selectShipment(item);
    }

    function addTracking() {
        const newId = document.getElementById("new-track-id").value.trim().toUpperCase();
        if (newId === "") return notify("Enter a valid tracking ID");

        shipments.push({
            id: newId,
            status: "pending",
            origin: "Unknown",
            destination: "Unknown",
            currentLocation: "Unknown",
            progress: 0,
            distance: 0,
            speed: 0
        });

        renderShipments();
        updateStats();
        notify(`Added new tracking ID: ${newId}`);
    }

    function notify(msg) {
        const n = document.getElementById("notification");
        n.innerText = msg;
        n.style.display = "block";
        setTimeout(() => n.style.display = "none", 2000);
    }

    renderShipments();
    updateMap();
    updateStats();
</script>

</body>
</html>
